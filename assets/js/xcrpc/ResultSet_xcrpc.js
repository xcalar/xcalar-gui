// **********************************************************************
// *** DO NOT EDIT!  This file was autogenerated by xcrpc             ***
// **********************************************************************
// Copyright 2018 Xcalar, Inc. All rights reserved.
//
// No use, or distribution, of this source code is permitted in any form or
// means without a valid, written license agreement with Xcalar, Inc.
// Please refer to the included "COPYING" file for terms and conditions
// regarding the use and redistribution of this software.
//

var client = require("./Client");
var service = require('./xcalar/compute/localtypes/Service_pb');

var resultSet = require("./xcalar/compute/localtypes/ResultSet_pb");
var proto_empty = require("google-protobuf/google/protobuf/empty_pb");


////////////////////////////////////////////////////////////////////////////////
// Constructors
////////////////////////////////////////////////////////////////////////////////

function ResultSetService(client) {
    this.client = client;
}

////////////////////////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////////////////////////

ResultSetService.prototype = {
    make: async function(resultSetMakeRequest) {
        // XXX we want to use Any.pack() here, but it is only available
        // in protobuf 3.2
        // https://github.com/google/protobuf/issues/2612#issuecomment-274567411
        var anyWrapper = new proto.google.protobuf.Any();
        anyWrapper.setValue(resultSetMakeRequest.serializeBinary());
        anyWrapper.setTypeUrl("type.googleapis.com/xcalar.compute.localtypes.ResultSet.ResultSetMakeRequest");
        //anyWrapper.pack(resultSetMakeRequest.serializeBinary(), "ResultSetMakeRequest");

        var responseData = await this.client.execute("ResultSet", "Make", anyWrapper);
        var specificBytes = responseData.getValue();
        // XXX Any.unpack() is only available in protobuf 3.2; see above
        //var resultSetMakeResponse =
        //    responseData.unpack(resultSet.ResultSetMakeResponse.deserializeBinary,
        //                        "ResultSetMakeResponse");
        var resultSetMakeResponse = resultSet.ResultSetMakeResponse.deserializeBinary(specificBytes);
        return resultSetMakeResponse;
    },
    release: async function(resultSetReleaseRequest) {
        // XXX we want to use Any.pack() here, but it is only available
        // in protobuf 3.2
        // https://github.com/google/protobuf/issues/2612#issuecomment-274567411
        var anyWrapper = new proto.google.protobuf.Any();
        anyWrapper.setValue(resultSetReleaseRequest.serializeBinary());
        anyWrapper.setTypeUrl("type.googleapis.com/xcalar.compute.localtypes.ResultSet.ResultSetReleaseRequest");
        //anyWrapper.pack(resultSetReleaseRequest.serializeBinary(), "ResultSetReleaseRequest");

        var responseData = await this.client.execute("ResultSet", "Release", anyWrapper);
        var specificBytes = responseData.getValue();
        // XXX Any.unpack() is only available in protobuf 3.2; see above
        //var empty =
        //    responseData.unpack(proto_empty.Empty.deserializeBinary,
        //                        "Empty");
        var empty = proto_empty.Empty.deserializeBinary(specificBytes);
        return empty;
    },
    next: async function(resultSetNextRequest) {
        // XXX we want to use Any.pack() here, but it is only available
        // in protobuf 3.2
        // https://github.com/google/protobuf/issues/2612#issuecomment-274567411
        var anyWrapper = new proto.google.protobuf.Any();
        anyWrapper.setValue(resultSetNextRequest.serializeBinary());
        anyWrapper.setTypeUrl("type.googleapis.com/xcalar.compute.localtypes.ResultSet.ResultSetNextRequest");
        //anyWrapper.pack(resultSetNextRequest.serializeBinary(), "ResultSetNextRequest");

        var responseData = await this.client.execute("ResultSet", "Next", anyWrapper);
        var specificBytes = responseData.getValue();
        // XXX Any.unpack() is only available in protobuf 3.2; see above
        //var resultSetNextResponse =
        //    responseData.unpack(resultSet.ResultSetNextResponse.deserializeBinary,
        //                        "ResultSetNextResponse");
        var resultSetNextResponse = resultSet.ResultSetNextResponse.deserializeBinary(specificBytes);
        return resultSetNextResponse;
    },
    seek: async function(resultSetSeekRequest) {
        // XXX we want to use Any.pack() here, but it is only available
        // in protobuf 3.2
        // https://github.com/google/protobuf/issues/2612#issuecomment-274567411
        var anyWrapper = new proto.google.protobuf.Any();
        anyWrapper.setValue(resultSetSeekRequest.serializeBinary());
        anyWrapper.setTypeUrl("type.googleapis.com/xcalar.compute.localtypes.ResultSet.ResultSetSeekRequest");
        //anyWrapper.pack(resultSetSeekRequest.serializeBinary(), "ResultSetSeekRequest");

        var responseData = await this.client.execute("ResultSet", "Seek", anyWrapper);
        var specificBytes = responseData.getValue();
        // XXX Any.unpack() is only available in protobuf 3.2; see above
        //var empty =
        //    responseData.unpack(proto_empty.Empty.deserializeBinary,
        //                        "Empty");
        var empty = proto_empty.Empty.deserializeBinary(specificBytes);
        return empty;
    },
};

exports.ResultSetService = ResultSetService;
