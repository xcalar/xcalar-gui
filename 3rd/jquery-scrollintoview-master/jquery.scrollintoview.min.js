/*!
 * jQuery scrollintoview() plugin and :scrollable selector filter
 *
 * Version 1.8 (14 Jul 2011)
 * Requires jQuery 1.4 or newer
 *
 * Copyright (c) 2011 Robert Koritnik
 * Licensed under the terms of the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 */
!function(t){var e={vertical:{x:!1,y:!0},horizontal:{x:!0,y:!1},both:{x:!0,y:!0},x:{x:!0,y:!1},y:{x:!1,y:!0}},o={duration:"fast",direction:"both",padding:20},l=/^(?:html)$/i,r=function(e){var o,r=t(window),i=l.test(e[0].nodeName);return{border:i?{top:0,left:0,bottom:0,right:0}:function(e,o){o=o||(document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null):e.currentStyle);var l=!(!document.defaultView||!document.defaultView.getComputedStyle),r={top:parseFloat(l?o.borderTopWidth:t.css(e,"borderTopWidth"))||0,left:parseFloat(l?o.borderLeftWidth:t.css(e,"borderLeftWidth"))||0,bottom:parseFloat(l?o.borderBottomWidth:t.css(e,"borderBottomWidth"))||0,right:parseFloat(l?o.borderRightWidth:t.css(e,"borderRightWidth"))||0};return{top:r.top,left:r.left,bottom:r.bottom,right:r.right,vertical:r.top+r.bottom,horizontal:r.left+r.right}}(e[0]),scroll:{top:(i?r:e).scrollTop(),left:(i?r:e).scrollLeft()},scrollbar:{right:i?0:e.innerWidth()-e[0].clientWidth,bottom:i?0:e.innerHeight()-e[0].clientHeight},rect:(o=e[0].getBoundingClientRect(),{top:i?0:o.top,left:i?0:o.left,bottom:i?e[0].clientHeight:o.bottom,right:i?e[0].clientWidth:o.right})}};t.fn.extend({scrollintoview:function(i){(i=t.extend({},o,i)).direction=e["string"==typeof i.direction&&i.direction.toLowerCase()]||e.both;var c="";!0===i.direction.x&&(c="horizontal"),!0===i.direction.y&&(c=c?"both":"vertical");var n=this.eq(0),s=n.closest(":scrollable("+c+")");if(s.length>0){s=s.eq(0);var d={e:r(n),s:r(s)},a={top:d.e.rect.top-(d.s.rect.top+d.s.border.top),bottom:d.s.rect.bottom-d.s.border.bottom-d.s.scrollbar.bottom-d.e.rect.bottom,left:d.e.rect.left-(d.s.rect.left+d.s.border.left),right:d.s.rect.right-d.s.border.right-d.s.scrollbar.right-d.e.rect.right},h={};!0===i.direction.y&&(a.top<0?h.scrollTop=d.s.scroll.top+a.top-i.padding:a.top>0&&a.bottom<0&&(h.scrollTop=d.s.scroll.top+Math.min(a.top,-a.bottom)+i.padding)),!0===i.direction.x&&(a.left<0?h.scrollLeft=d.s.scroll.left+a.left-i.padding:a.left>0&&a.right<0&&(h.scrollLeft=d.s.scroll.left+Math.min(a.left,-a.right)+i.padding)),t.isEmptyObject(h)?t.isFunction(i.complete)&&i.complete.call(s[0]):(l.test(s[0].nodeName)&&(s=t("html,body")),0===i.duration?(h.hasOwnProperty("scrollLeft")&&s.scrollLeft(h.scrollLeft),h.hasOwnProperty("scrollTop")&&s.scrollTop(h.scrollTop),t.isFunction(i.complete)&&i.complete.call(s[0])):s.animate(h,i.duration).eq(0).queue(function(e){t.isFunction(i.complete)&&i.complete.call(s[0]),e()}))}return this}});var i={auto:!0,scroll:!0,visible:!1,hidden:!1};t.extend(t.expr[":"],{scrollable:function(t,o,r,c){var n=e["string"==typeof r[3]&&r[3].toLowerCase()]||e.both,s=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle,d={x:i[s.overflowX.toLowerCase()]||!1,y:i[s.overflowY.toLowerCase()]||!1,isRoot:l.test(t.nodeName)};if(!d.x&&!d.y&&!d.isRoot)return!1;var a={height:{scroll:t.scrollHeight,client:t.clientHeight},width:{scroll:t.scrollWidth,client:t.clientWidth},scrollableX:function(){return(d.x||d.isRoot)&&this.width.scroll>this.width.client},scrollableY:function(){return(d.y||d.isRoot)&&this.height.scroll>this.height.client}};return n.y&&a.scrollableY()||n.x&&a.scrollableX()}})}(jQuery);